# V7: コード品質とビルド設定要件

## 制御目的

本制御の目的は、基本的なセキュリティコーディングが実際にアプリ開発で順守されているか、コンパイラによって提供された「無料の」セキュリティ機能が有効にされているかを確かめることである。

## セキュリティ検証要件

| # | 説明 | L1 | L2 |
| --- | --- | --- | --- |
| **7.1** | アプリが署名され、有効な証明書を提供する | ✓ | ✓ |
| **7.2** | アプリがリリースモードでビルドされていて、リリースビルドに適した設定(たとえば、デバッグ不可)がされている | ✓ | ✓ |
| **7.3** | デバッグシンボルがネイティブバイナリから削除されている | ✓ | ✓ |
| **7.4** | デバッグコードが削除されており、アプリが詳細なエラーやデバッグメッセージをログに記録しない | ✓ | ✓ |
| **7.5** | ライブラリやフレームワークなどのモバイルアプリで使用されているすべてのサードパーティコンポーネントが識別され、既知の脆弱性に関して検査されている | ✓ | ✓ |
| **7.6** | アプリが起こり得る例外をキャッチして処理する | ✓ | ✓ |
| **7.7** | セキュリティ制御のエラーハンドリングロジックがデフォルトでアクセスを拒否している | ✓ | ✓ |
| **7.8** | アンマネージコード(CLRに準拠していないコード)内で、メモリが割り当てられ、解放され、安全に使用されている  | ✓ | ✓ |
| **7.9** | ツールチェインによって提供されているバイトコードの縮小、スタックプロテクション、PIEサポート、自動リファレンスカウンタ(ARC：リファレンスカウンタ方式のメモリ管理の自動化、iOS5で追加された機能)などのフリーのセキュリティ機能が有効になっている | ✓ | ✓ |

## 参考文献

OWASP モバイルセキュリティテストガイドは、本セクションに記載されている要件を検証するための詳細な指示を提供する。

- Android - https://github.com/OWASP/owasp-mstg/blob/master/Document/0x05i-Testing-Code-Quality-and-Build-Settings.md
- iOS - https://github.com/OWASP/owasp-mstg/blob/master/Document/0x06i-Testing-Code-Quality-and-Build-Settings.md

詳細は以下参照：

- OWASP Mobile Top 10:  M7 - Client Code Quality(クライアントコードの品質)
- CWE: https://cwe.mitre.org/data/definitions/119.html
- CWE: https://cwe.mitre.org/data/definitions/89.html
- CWE: https://cwe.mitre.org/data/definitions/388.html
- CWE: https://cwe.mitre.org/data/definitions/489.html
