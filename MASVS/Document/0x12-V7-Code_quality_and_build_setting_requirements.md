# V7: コード品質とビルド設定要件

## 本章の目的

本章の目的は、基本的なセキュリティコーディングプラクティスがアプリケーション開発において順守され、そしてコンパイラによって提供されている「無料の」セキュリティ機能が有効化されていることを検証することです。

## セキュリティ検証要件

| # | 説明 | L1 | L2 |
| --- | --- | --- | --- |
| **7.1** | アプリケーションを有効な証明書で署名してプロビジョニングする。 | ✓ | ✓ |
| **7.2** | アプリケーションをリリースモードでビルドし、そしてリリースビルドに適した設定(たとえば、デバッグ不可)をする。 | ✓ | ✓ |
| **7.3** | デバッグシンボルをネイティブバイナリから削除する。 | ✓ | ✓ |
| **7.4** | デバッグ用のコードを削除し、アプリケーションが詳細なエラーやデバッグメッセージをログに出力しないようにする。 | ✓ | ✓ |
| **7.5** | ライブラリやフレームワークなどのモバイルアプリケーションで使用されているサードパーティコンポーネントを全て把握し、既知の脆弱性の有無を確認する。 | ✓ | ✓ |
| **7.6** | 発生し得る例外をアプリケーションでキャッチし処理する。 | ✓ | ✓ |
| **7.7** | セキュリティ機能のエラー処理ロジックはデフォルトでアクセス拒否にする。 | ✓ | ✓ |
| **7.8** | アンマネージコードでは、メモリを安全に割り当て、解放しそして使用する。  | ✓ | ✓ |
| **7.9** | バイトコードの縮小、スタックプロテクション、PIEサポート、自動リファレンスカウンタなどのツールチェーンによって提供されている無料のセキュリティ機能を有効化する。 | ✓ | ✓ |

## 参考文献

OWASP モバイルセキュリティテストガイドは、本セクションに記載されている要件を検証するための詳細な手順を提供しています。

- Android - https://github.com/OWASP/owasp-mstg/blob/master/Document/0x05i-Testing-Code-Quality-and-Build-Settings.md
- iOS - https://github.com/OWASP/owasp-mstg/blob/master/Document/0x06i-Testing-Code-Quality-and-Build-Settings.md

詳細は以下を参照：

- OWASP Mobile Top 10:  M7 - Client Code Quality(クライアントコードの品質)
- CWE: https://cwe.mitre.org/data/definitions/119.html
- CWE: https://cwe.mitre.org/data/definitions/89.html
- CWE: https://cwe.mitre.org/data/definitions/388.html
- CWE: https://cwe.mitre.org/data/definitions/489.html
