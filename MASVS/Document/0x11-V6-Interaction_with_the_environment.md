# V6: プラットフォーム相互作用要件

## 制御目的

本制御は、アプリケーションが安全にプラットフォーム(APIや標準コンポーネント)を使用することを保証します。
それに加えて、本制御はアプリケーション間の通信(IPC)も含んでいます。

## セキュリティ検証要件

| #       | 説明                                                                                                                       | L1 | L2 |
| ------- | --------------------------------------------------------------------------------------------------------------------------- | - | - |
| **6.1** | アプリケーションは必要最低限の許可(パーミッション)のみ要求します。                                                          | ? | ? |
| **6.2** | 外部ソースやユーザからのインプットはすべて検証され、必要であれば、サニタイジングされます。これには、UIから受信したデータやインテントなどのIPCメカニズム、カスタムURL、ネットワークソースが含まれます。                | ? | ? |
| **6.3** | これらのメカニズムが適切に保護されていない限り、アプリケーションはカスタムURLスキーム経由で機密機能をエクスポートしません。 | ? | ? |
| **6.4** | これらのメカニズムが適切に保護されていない限り、アプリケーションはIPC機能を通して機密機能をエクスポートしません。           | ? | ? |
| **6.5** | 明示的に必要とされていない限り、WebViewでJavaScriptは無効化されています。                                                   | ? | ? |
| **6.6** | WebViewでは、必要最低限のプロトコルハンドラを許可するように設定されています(HTTPSのみのサポートが理想的です)。危険な可能性のあるfile、tel、app-id等のハンドラは無効化されています。                                                       | ? | ? |
| **6.7** | アプリケーションのネイティブメソッドがWebViewに公開されている場合、WebViewでは、アプリケーションパッケージに含まれるJavaScriptのみがレンダリングされていることを検証します。                   | ? | ? |
| **6.8** | オブジェクトのデシリアライゼーションがある場合、これは安全なシリアライゼーションAPIで実装されています。                     | ? | ? |

## 参考文献

OWASP モバイルセキュリティテストガイドでは、本セクションに記載されている要件を検証する詳細な手順を提供します。

- Android - https://github.com/OWASP/owasp-mstg/blob/master/Document/0x05h-Testing-Platform-Interaction.md
- iOS - https://github.com/OWASP/owasp-mstg/blob/master/Document/0x06h-Testing-Platform-Interaction.md

詳細は以下参照：

- OWASP Mobile Top 10: M1 - Improper Platform Usage(不適切なプラットフォームの使用)
- CWE: https://cwe.mitre.org/data/definitions/20.html
- CWE: https://cwe.mitre.org/data/definitions/749.html
